MAIN_IOTC_AREAS_POSITIONS[, LABEL := c("Eastern", "Western")]
MAIN_IOTC_AREAS_POSITIONS_SF = st_as_sf(MAIN_IOTC_AREAS_POSITIONS, coords = c("CENTER_LON", "CENTER_LAT"), crs = st_crs(4326))
## Define colours
MAIN_IOTC_AREA_COLOURS = color_table(colors = c("#8DD3C7", "#FB8072"))
MAIN_IOTC_AREAS_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE )) +
geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
theme(legend.position = "none", legend.title = element_blank())
ggsave("./outputs/MAIN_IOTC_AREAS_MAP.png", MAIN_IOTC_AREAS_MAP, width = 8, height = 4.5)
ggsave("./outputs/MAIN_IOTC_AREAS_MAP.png", MAIN_IOTC_AREAS_MAP, width = 8, height = 4.5)
## Define label positions
MAIN_IOTC_AREAS_POSITIONS  = MAIN_IOTC_AREAS[, .(CODE, CENTER_LON, CENTER_LAT)]
MAIN_IOTC_AREAS_POSITIONS[, LABEL := c("Eastern\nIndian Ocean", "Western\n Indian Ocean")]
MAIN_IOTC_AREAS_POSITIONS_SF = st_as_sf(MAIN_IOTC_AREAS_POSITIONS, coords = c("CENTER_LON", "CENTER_LAT"), crs = st_crs(4326))
## Define colours
MAIN_IOTC_AREA_COLOURS = color_table(colors = c("#8DD3C7", "#FB8072"))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE )) +
geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
theme(legend.position = "none", legend.title = element_blank())
MAIN_IOTC_AREAS_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE )) +
geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
theme(legend.position = "none", legend.title = element_blank())
ggsave("./outputs/MAIN_IOTC_AREAS_MAP.png", MAIN_IOTC_AREAS_MAP, width = 8, height = 4.5)
MAIN_IOTC_AREAS[, .(CODE, CENTER_LON, CENTER_LAT)]
## Define label positions
MAIN_IOTC_AREAS_POSITIONS  = data.table(CODE = c("", ""), LABEL := c("Eastern\nIndian Ocean", "Western\n Indian Ocean"), CENTER_LON = c(100, 60), CENTER_LAT = c(-30, -15))
MAIN_IOTC_AREAS_POSITIONS[, ]
MAIN_IOTC_AREAS_POSITIONS_SF = st_as_sf(MAIN_IOTC_AREAS_POSITIONS, coords = c("CENTER_LON", "CENTER_LAT"), crs = st_crs(4326))
## Define colours
MAIN_IOTC_AREA_COLOURS = color_table(colors = c("#8DD3C7", "#FB8072"))
MAIN_IOTC_AREAS_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE )) +
geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
theme(legend.position = "none", legend.title = element_blank())
## Define label positions
MAIN_IOTC_AREAS_POSITIONS  = data.table(CODE = c("IOTC_EAST", "IOTC_WEST"), LABEL := c("Eastern\nIndian Ocean", "Western\n Indian Ocean"), CENTER_LON = c(100, 60), CENTER_LAT = c(-30, -15))
MAIN_IOTC_AREAS_POSITIONS_SF = st_as_sf(MAIN_IOTC_AREAS_POSITIONS, coords = c("CENTER_LON", "CENTER_LAT"), crs = st_crs(4326))
## Define label positions
MAIN_IOTC_AREAS_POSITIONS  = data.table(CODE = c("IOTC_EAST", "IOTC_WEST"), LABEL = c("Eastern\nIndian Ocean", "Western\n Indian Ocean"), CENTER_LON = c(100, 60), CENTER_LAT = c(-30, -15))
MAIN_IOTC_AREAS_POSITIONS_SF = st_as_sf(MAIN_IOTC_AREAS_POSITIONS, coords = c("CENTER_LON", "CENTER_LAT"), crs = st_crs(4326))
## Define colours
MAIN_IOTC_AREA_COLOURS = color_table(colors = c("#8DD3C7", "#FB8072"))
MAIN_IOTC_AREAS_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE )) +
geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
theme(legend.position = "none", legend.title = element_blank())
ggsave("./outputs/MAIN_IOTC_AREAS_MAP.png", MAIN_IOTC_AREAS_MAP, width = 8, height = 4.5)
## Define label positions
MAIN_IOTC_AREAS_POSITIONS  = data.table(CODE = c("IOTC_EAST", "IOTC_WEST"), LABEL = c("Eastern\nIndian Ocean", "Western\n Indian Ocean"), CENTER_LON = c(100, 65), CENTER_LAT = c(-30, -15))
MAIN_IOTC_AREAS_POSITIONS_SF = st_as_sf(MAIN_IOTC_AREAS_POSITIONS, coords = c("CENTER_LON", "CENTER_LAT"), crs = st_crs(4326))
## Define colours
MAIN_IOTC_AREA_COLOURS = color_table(colors = c("#8DD3C7", "#FB8072"))
MAIN_IOTC_AREAS_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE )) +
geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
theme(legend.position = "none", legend.title = element_blank())
ggsave("./outputs/MAIN_IOTC_AREAS_MAP.png", MAIN_IOTC_AREAS_MAP, width = 8, height = 4.5)
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE)) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(geometry = WKT))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE)) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(geometry = WKT, fill = NA))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE)) +
geom_sf(CWP_GRIDS_5x5_SF)
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE)) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(geometry = WKT, fill = NA, color = "black"))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(geometry = WKT, fill = NA, color = "black"))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF)))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(geometry = WKT, fill = NA, color = "black"))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(geometry = WKT, fill = NA, color = "black"))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(geometry = WKT, fill = NULL, color = "black"))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE , alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(geometry = WKT, fill = NULL))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(geometry = WKT, fill = NULL, alpha = 0.1)) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(geometry = WKT, alpha = 0.1)) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, fill = NA, color = "black")
MAIN_IOTC_AREAS_SF
ggplot(data = MAIN_IOTC_AREAS_SF) + geom_sf(CWP_GRIDS_5x5_SF, fill = NA, color = "black")
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE , color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping(fill = NA, color = "black")) +
theme(legend.position = "none", legend.title = element_blank())
ggplot(data = CWP_GRIDS_5x5_SF)
ggplot(data = CWP_GRIDS_5x5_SF) + geom_sf(CWP_GRIDS_5x5_SF, mapping(fill = NA, color = "black"))
ggplot(data = CWP_GRIDS_5x5_SF) + layer_sf(CWP_GRIDS_5x5_SF, mapping(fill = NA, color = "black"))
?geom_Sf
?geom_sf
rlang::last_trace()
ggplot() + geom_sf(MAIN_IOTC_AREAS_SF)
ggplot() + geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping(fill = NA, color = "black"))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA, color = "black")) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF)))
ggplot() + geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA, color = "black", linewidth = 1))
CWP_GRIDS_5x5_SF
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, fill = NA, color = "black", linewidth = 1) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA)) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA)) +
theme(legend.position = "none", legend.title = element_blank())
ggplot() + geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA))
ggplot() + geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NUL))
ggplot() + geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NULL))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NULL, color = "black", linewidth = 1)) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF)))
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NULLlinewidth = 1)) +
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NULL, linewidth = 1)) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NULL)) +
theme(legend.position = "none", legend.title = element_blank())
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE))
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, fill = CODE, color = CODE, alpha = CODE)
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, fill = NA)
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, aes(fill = NA))
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = NA))
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = NA, color = CODE))
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = NA, color = CODE, fill = NA))
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = NA, color = CODE))
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = NAggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +, color = CODE))
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
geom_sf(CWP_GRIDS_5x5_SF, fill = NA)
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NULL)) +
#geom_sf(CWP_GRIDS_5x5_SF, fill = NA) +
theme(legend.position = "none", legend.title = element_blank())
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA)) +
#geom_sf(CWP_GRIDS_5x5_SF, fill = NA) +
theme(legend.position = "none", legend.title = element_blank())
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
#geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA)) +
geom_sf(CWP_GRIDS_5x5_SF, fill = NA, color = "grey50", linewidth = 0.2) +
theme(legend.position = "none", legend.title = element_blank())
ggplot() +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
#geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA)) +
geom_sf(data = CWP_GRIDS_5x5_SF, fill = NA, color = "grey50", linewidth = 0.2) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
#geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA)) +
geom_sf(data = CWP_GRIDS_5x5_SF, fill = NA, color = "grey50", linewidth = 0.2) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
#geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA)) +
geom_sf(data = CWP_GRIDS_5x5_SF, fill = NA, color = "grey50", linewidth = 0.2) +
theme(legend.position = "none", legend.title = element_blank())
MAIN_IOTC_AREAS_MAP
# General map
MAIN_IOTC_AREAS_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE, color = CODE, alpha = CODE)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
theme(legend.position = "none", legend.title = element_blank())
ggsave("./outputs/MAIN_IOTC_AREAS_MAP.png", MAIN_IOTC_AREAS_MAP, width = 8, height = 4.5)
# Map with 5x5 grids
MAIN_IOTC_AREAS_5x5_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
#geom_sf(CWP_GRIDS_5x5_SF, mapping = aes(fill = NA)) +
geom_sf(data = CWP_GRIDS_5x5_SF, fill = NA, color = "grey50", linewidth = 0.2) +
theme(legend.position = "none", legend.title = element_blank())
ggsave("./outputs/MAIN_IOTC_AREAS_5x5_MAP.png", MAIN_IOTC_AREAS_MAP, width = 8, height = 4.5)
ggsave("./outputs/MAIN_IOTC_AREAS_5x5_MAP.png", MAIN_IOTC_AREAS_5x5_MAP, width = 8, height = 4.5)
# Map with 1x1 grids
MAIN_IOTC_AREAS_1x1_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = CODE)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(data = CWP_GRIDS_1x1_SF, fill = NA, color = "grey50", linewidth = 0.2) +
theme(legend.position = "none", legend.title = element_blank())
ggsave("./outputs/MAIN_IOTC_AREAS_1x1_MAP.png", MAIN_IOTC_AREAS_1x1_MAP, width = 8, height = 4.5)
# Set the working directory
setwd(here())
getwd()
toto = fread("./inputs/area_intersection_cwp55_iotc_main_areas.csv")
toto_sf = st_as_sf(toto, wkt = "WKT", crs = 4326)
names(toto)
toto_sf = st_as_sf(toto, wkt = "intersection_area", crs = 4326)
plot(st_geometry(toto_sf))
plot(st_geometry(toto_sf["target_code"]))
plot((toto_sf))
plot(toto_sf)
plot(toto_sf["target_code"])
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = toto_sf)
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = toto_sf) +
theme(legend.position = "none", legend.title = element_blank()) +
facet_grid(~target_code)
# CWP55 grids ####
cwp55_grids_with_main_iotc_area = fread("./inputs/area_intersection_cwp55_iotc_main_areas.csv", stringsAsFactors = TRUE)
cwp55_grids_with_main_iotc_area_sf = st_as_sf(toto, wkt = "intersection_area", crs = 4326)
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = cwp55_grids_with_main_iotc_area_sf, aes(fill = target_code)) +
theme(legend.position = "none", legend.title = element_blank(), strip.background = element_rect(fill = "white")) +
facet_wrap(~target_code, nrow = 2)
cwp55_grids_with_main_iotc_area = fread("./inputs/area_intersection_cwp55_iotc_main_areas.csv", stringsAsFactors = TRUE)
# Order the areas with factors
cwp55_grids_with_main_iotc_area[, target_code := factor(target_code, levels = c("IOTC_WEST", "IOTC_EAST"))]
# Spatialise the data
cwp55_grids_with_main_iotc_area_sf = st_as_sf(cwp55_grids_with_main_iotc_area, wkt = "intersection_area", crs = 4326)
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = cwp55_grids_with_main_iotc_area_sf, aes(fill = target_code)) +
scale_fill_manual(values = c("#FB8072", "#8DD3C7")) +
theme(legend.position = "none", legend.title = element_blank(), strip.background = element_rect(fill = "white")) +
facet_wrap(~target_code, nrow = 2)
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = cwp55_grids_with_main_iotc_area_sf, aes(fill = target_code, alpha = 0.4)) +
scale_fill_manual(values = c("#FB8072", "#8DD3C7")) +
theme(legend.position = "none", legend.title = element_blank(), strip.background = element_rect(fill = "white")) +
facet_wrap(~target_code, nrow = 2)
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE, color = CODE, alpha = 0.4)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
#scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = 0.4)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
#scale_alpha_manual(values = rep(0.4, nrow(MAIN_IOTC_AREAS_POSITIONS_SF))) +
geom_sf(data = CWP_GRIDS_5x5_SF, fill = NA, color = "grey50", linewidth = 0.2) +
theme(legend.position = "none", legend.title = element_blank())
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = 0.4)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
geom_sf(data = CWP_GRIDS_1x1_SF, fill = NA, color = "grey50", linewidth = 0.2) +
theme(legend.position = "none", legend.title = element_blank())
# Libraries
library(this.path)
library(iotc.base.common.plots)
library(sf)
library(RColorBrewer)
# Set the working directory
setwd(here())
# Define database connection
C_REFERENCE_DATA = DBI::dbConnect(RPostgres::Postgres(),
host = '192.168.98.140',
dbname = 'IOTC_ReferenceData_2025_07_23',
port = 5432,
user = 'ros-admin',
password = 'ros2025-poWer2$')
# Source the function to prepare SQL queries
source("prep_sql_lines_function.R")
# Data extraction
QRY_MAIN_IOTC_AREAS = prep_sql_lines("./sql/MAIN_IOTC_AREAS.sql")
MAIN_IOTC_AREAS     = query(C_REFERENCE_DATA, QRY_MAIN_IOTC_AREAS)
QRY_CWP_GRIDS = prep_sql_lines("./sql/CWP_GRIDS.sql")
CWP_GRIDS     = query(C_REFERENCE_DATA, QRY_CWP_GRIDS)
# Convert WKT to simple feature
MAIN_IOTC_AREAS_SF = st_as_sf(MAIN_IOTC_AREAS, wkt = "WKT", crs = 4326)
CWP_GRIDS_1x1_SF   = st_as_sf(CWP_GRIDS, wkt = "WKT", crs = 4326) %>% filter(AREA_TYPE_CODE == "GRID01x01")
CWP_GRIDS_5x5_SF   = st_as_sf(CWP_GRIDS, wkt = "WKT", crs = 4326) %>% filter(AREA_TYPE_CODE == "GRID05x05")
## Define label positions
MAIN_IOTC_AREAS_POSITIONS  = data.table(CODE = c("IOTC_EAST", "IOTC_WEST"), LABEL = c("Eastern\nIndian Ocean", "Western\n Indian Ocean"), CENTER_LON = c(100, 65), CENTER_LAT = c(-30, -15))
MAIN_IOTC_AREAS_POSITIONS_SF = st_as_sf(MAIN_IOTC_AREAS_POSITIONS, coords = c("CENTER_LON", "CENTER_LAT"), crs = st_crs(4326))
## Define colours
MAIN_IOTC_AREA_COLOURS = color_table(colors = c("#8DD3C7", "#FB8072"))
# General map
MAIN_IOTC_AREAS_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(MAIN_IOTC_AREAS_SF, mapping = aes(geometry = WKT, fill = CODE, color = CODE, alpha = 0.4)) +
#geom_sf_text(data = MAIN_IOTC_AREAS_POSITIONS_SF, aes(label = LABEL), size = 4) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
theme(legend.position = "none", legend.title = element_blank())
ggsave("./outputs/MAIN_IOTC_AREAS_MAP.png", MAIN_IOTC_AREAS_MAP, width = 8, height = 4.5)
# Map with 5x5 grids
MAIN_IOTC_AREAS_5x5_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = 0.4)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
geom_sf(data = CWP_GRIDS_5x5_SF, fill = NA, color = "grey50", linewidth = 0.2) +
theme(legend.position = "none", legend.title = element_blank())
ggsave("./outputs/MAIN_IOTC_AREAS_5x5_MAP.png", MAIN_IOTC_AREAS_5x5_MAP, width = 8, height = 4.5)
# Map with 1x1 grids
MAIN_IOTC_AREAS_1x1_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = MAIN_IOTC_AREAS_SF, mapping = aes(fill = CODE, color = CODE, alpha = 0.4)) +
scale_fill_manual(values = MAIN_IOTC_AREA_COLOURS$FILL) +
scale_color_manual(values = MAIN_IOTC_AREA_COLOURS$OUTLINE) +
geom_sf(data = CWP_GRIDS_1x1_SF, fill = NA, color = "grey50", linewidth = 0.2) +
theme(legend.position = "none", legend.title = element_blank())
ggsave("./outputs/MAIN_IOTC_AREAS_1x1_MAP.png", MAIN_IOTC_AREAS_1x1_MAP, width = 8, height = 4.5)
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = cwp55_grids_with_main_iotc_area_sf, aes(fill = target_code, alpha = 0.4)) +
scale_fill_manual(values = c("#FB8072", "#8DD3C7")) +
theme(legend.position = "none", legend.title = element_blank(), strip.background = element_rect(fill = "white")) +
facet_wrap(~target_code, nrow = 2)
# Map of 5x5 grids
CWP55_BY_MAIN_AREA_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = cwp55_grids_with_main_iotc_area_sf, aes(fill = target_code, alpha = 0.4)) +
scale_fill_manual(values = c("#FB8072", "#8DD3C7")) +
theme(legend.position = "none", legend.title = element_blank(), strip.background = element_rect(fill = "white")) +
facet_wrap(~target_code, nrow = 2)
ggsave("./outputs/CWP55_BY_MAIN_AREA_MAP.png", CWP55_BY_MAIN_AREA_MAP, width = 8, height = 4.5)
# Read the data
cwp11_grids_with_main_iotc_area =
popo = fread("./inputs/area_intersection_cwp11_iotc_east.csv", stringsAsFactors = TRUE)
popo1 = fread("./inputs/area_intersection_cwp11_iotc_west.csv", stringsAsFactors = TRUE)
pipo = rbindlist(list(popo, popo1))
write.csv(pipo, "./inputs/area_intersection_cwp11_main_areas.csv", row.names = FALSE)
gc()
cwp11_grids_with_main_iotc_area = fread("./inputs/area_intersection_cwp11_main_areas.csv")
# Order the areas with factors
cwp11_grids_with_main_iotc_area[, target_code := factor(target_code, levels = c("IOTC_WEST", "IOTC_EAST"))]
# Spatialise the data
cwp11_grids_with_main_iotc_area_sf = st_as_sf(cwp11_grids_with_main_iotc_area, wkt = "intersection_area", crs = 4326)
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = cwp11_grids_with_main_iotc_area_sf, aes(fill = target_code, alpha = 0.4)) +
scale_fill_manual(values = c("#FB8072", "#8DD3C7")) +
theme(legend.position = "none", legend.title = element_blank(), strip.background = element_rect(fill = "white")) +
facet_wrap(~target_code, nrow = 2)
ggsave("./outputs/CWP11_BY_MAIN_AREA_MAP.png", CWP11_BY_MAIN_AREA_MAP, width = 8, height = 4.5)
# Map of 1x1 grids
CWP11_BY_MAIN_AREA_MAP =
IO_map(show_EEZs = TRUE, show_high_seas = FALSE, show_IO_areas = FALSE) +
geom_sf(data = cwp11_grids_with_main_iotc_area_sf, aes(fill = target_code, alpha = 0.4)) +
scale_fill_manual(values = c("#FB8072", "#8DD3C7")) +
theme(legend.position = "none", legend.title = element_blank(), strip.background = element_rect(fill = "white")) +
facet_wrap(~target_code, nrow = 2)
ggsave("./outputs/CWP11_BY_MAIN_AREA_MAP.png", CWP11_BY_MAIN_AREA_MAP, width = 8, height = 4.5)
cwp11_grids_with_main_iotc_area[1:2]
gc()
gc()
